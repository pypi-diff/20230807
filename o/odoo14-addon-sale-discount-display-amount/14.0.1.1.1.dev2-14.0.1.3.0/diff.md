# Comparing `tmp/odoo14_addon_sale_discount_display_amount-14.0.1.1.1.dev2-py3-none-any.whl.zip` & `tmp/odoo14_addon_sale_discount_display_amount-14.0.1.3.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,32 +1,34 @@
-Zip file size: 33376 bytes, number of entries: 30
--rw-r--r--  2.0 unx     3413 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/README.rst
--rw-r--r--  2.0 unx       88 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/__init__.py
--rw-r--r--  2.0 unx      669 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/__manifest__.py
--rw-r--r--  2.0 unx     1381 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/hooks.py
--rw-r--r--  2.0 unx     2580 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/i18n/ca.po
--rw-r--r--  2.0 unx     2525 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/i18n/de.po
--rw-r--r--  2.0 unx     2527 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/i18n/es.po
--rw-r--r--  2.0 unx     2359 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/i18n/es_ES.po
--rw-r--r--  2.0 unx     2551 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/i18n/fr.po
--rw-r--r--  2.0 unx     2559 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/i18n/it.po
--rw-r--r--  2.0 unx     2568 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/i18n/nl.po
--rw-r--r--  2.0 unx     2286 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/i18n/sale_discount_display_amount.pot
--rw-r--r--  2.0 unx     2501 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/i18n/zh_CN.po
--rw-r--r--  2.0 unx       55 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/models/__init__.py
--rw-r--r--  2.0 unx     1267 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/models/sale_order.py
--rw-r--r--  2.0 unx     1705 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/models/sale_order_line.py
--rw-r--r--  2.0 unx      113 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx      172 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      276 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      180 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/readme/USAGE.rst
--rw-r--r--  2.0 unx      605 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/report/sale_report_template.xml
--rw-r--r--  2.0 unx     9455 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/static/description/icon.png
--rw-r--r--  2.0 unx    13232 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/static/description/index.html
--rw-r--r--  2.0 unx       43 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/tests/__init__.py
--rw-r--r--  2.0 unx     1032 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/tests/test_discount_display_amount.py
--rw-r--r--  2.0 unx      588 b- defN 23-Mar-31 06:52 odoo/addons/sale_discount_display_amount/views/sale_view.xml
--rw-r--r--  2.0 unx     4052 b- defN 23-Mar-31 06:53 odoo14_addon_sale_discount_display_amount-14.0.1.1.1.dev2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Mar-31 06:53 odoo14_addon_sale_discount_display_amount-14.0.1.1.1.dev2.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Mar-31 06:53 odoo14_addon_sale_discount_display_amount-14.0.1.1.1.dev2.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     3480 b- defN 23-Mar-31 06:53 odoo14_addon_sale_discount_display_amount-14.0.1.1.1.dev2.dist-info/RECORD
-30 files, 64359 bytes uncompressed, 27392 bytes compressed:  57.4%
+Zip file size: 34891 bytes, number of entries: 32
+-rw-r--r--  2.0 unx     3413 b- defN 23-Aug-07 15:39 odoo/addons/sale_discount_display_amount/README.rst
+-rw-r--r--  2.0 unx       88 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/__init__.py
+-rw-r--r--  2.0 unx      669 b- defN 23-Aug-07 15:39 odoo/addons/sale_discount_display_amount/__manifest__.py
+-rw-r--r--  2.0 unx     1596 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/hooks.py
+-rw-r--r--  2.0 unx     2922 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/i18n/ca.po
+-rw-r--r--  2.0 unx     2871 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/i18n/de.po
+-rw-r--r--  2.0 unx     2870 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/i18n/es.po
+-rw-r--r--  2.0 unx     2680 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/i18n/es_ES.po
+-rw-r--r--  2.0 unx     2892 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/i18n/fr.po
+-rw-r--r--  2.0 unx     2899 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/i18n/it.po
+-rw-r--r--  2.0 unx     2910 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/i18n/nl.po
+-rw-r--r--  2.0 unx     2607 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/i18n/sale_discount_display_amount.pot
+-rw-r--r--  2.0 unx     2843 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/i18n/zh_CN.po
+-rw-r--r--  2.0 unx      805 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/migrations/14.0.1.2.0/post-compute-subtotal-columns.py
+-rw-r--r--  2.0 unx      472 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/migrations/14.0.1.2.0/pre-add-subtotal-columns.py
+-rw-r--r--  2.0 unx       55 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/models/__init__.py
+-rw-r--r--  2.0 unx     1760 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/models/sale_order.py
+-rw-r--r--  2.0 unx     2100 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/models/sale_order_line.py
+-rw-r--r--  2.0 unx      113 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx      172 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      276 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      180 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/readme/USAGE.rst
+-rw-r--r--  2.0 unx      605 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/report/sale_report_template.xml
+-rw-r--r--  2.0 unx     9455 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/static/description/icon.png
+-rw-r--r--  2.0 unx    13232 b- defN 23-Aug-07 15:39 odoo/addons/sale_discount_display_amount/static/description/index.html
+-rw-r--r--  2.0 unx       43 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/tests/__init__.py
+-rw-r--r--  2.0 unx     1178 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/tests/test_discount_display_amount.py
+-rw-r--r--  2.0 unx     1139 b- defN 23-Aug-07 15:38 odoo/addons/sale_discount_display_amount/views/sale_view.xml
+-rw-r--r--  2.0 unx     4047 b- defN 23-Aug-07 15:39 odoo14_addon_sale_discount_display_amount-14.0.1.3.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Aug-07 15:39 odoo14_addon_sale_discount_display_amount-14.0.1.3.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Aug-07 15:39 odoo14_addon_sale_discount_display_amount-14.0.1.3.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     3758 b- defN 23-Aug-07 15:39 odoo14_addon_sale_discount_display_amount-14.0.1.3.0.dist-info/RECORD
+32 files, 70747 bytes uncompressed, 28425 bytes compressed:  59.8%
```

## zipnote {}

```diff
@@ -33,14 +33,20 @@
 
 Filename: odoo/addons/sale_discount_display_amount/i18n/sale_discount_display_amount.pot
 Comment: 
 
 Filename: odoo/addons/sale_discount_display_amount/i18n/zh_CN.po
 Comment: 
 
+Filename: odoo/addons/sale_discount_display_amount/migrations/14.0.1.2.0/post-compute-subtotal-columns.py
+Comment: 
+
+Filename: odoo/addons/sale_discount_display_amount/migrations/14.0.1.2.0/pre-add-subtotal-columns.py
+Comment: 
+
 Filename: odoo/addons/sale_discount_display_amount/models/__init__.py
 Comment: 
 
 Filename: odoo/addons/sale_discount_display_amount/models/sale_order.py
 Comment: 
 
 Filename: odoo/addons/sale_discount_display_amount/models/sale_order_line.py
@@ -72,20 +78,20 @@
 
 Filename: odoo/addons/sale_discount_display_amount/tests/test_discount_display_amount.py
 Comment: 
 
 Filename: odoo/addons/sale_discount_display_amount/views/sale_view.xml
 Comment: 
 
-Filename: odoo14_addon_sale_discount_display_amount-14.0.1.1.1.dev2.dist-info/METADATA
+Filename: odoo14_addon_sale_discount_display_amount-14.0.1.3.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_sale_discount_display_amount-14.0.1.1.1.dev2.dist-info/WHEEL
+Filename: odoo14_addon_sale_discount_display_amount-14.0.1.3.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_sale_discount_display_amount-14.0.1.1.1.dev2.dist-info/top_level.txt
+Filename: odoo14_addon_sale_discount_display_amount-14.0.1.3.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_sale_discount_display_amount-14.0.1.1.1.dev2.dist-info/RECORD
+Filename: odoo14_addon_sale_discount_display_amount-14.0.1.3.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/sale_discount_display_amount/__manifest__.py

```diff
@@ -2,15 +2,15 @@
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
 {
     "name": "Sale Discount Display Amount",
     "summary": """
         This addon intends to display the amount of the discount computed on
         sale_order_line and sale_order level""",
-    "version": "14.0.1.1.0",
+    "version": "14.0.1.3.0",
     "license": "AGPL-3",
     "author": "ACSONE SA/NV,Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/sale-workflow",
     "depends": ["sale_management"],
     "data": [
         "views/sale_view.xml",
         "report/sale_report_template.xml",
```

## odoo/addons/sale_discount_display_amount/hooks.py

```diff
@@ -5,16 +5,18 @@
 from odoo import SUPERUSER_ID
 from odoo.api import Environment
 from odoo.tools.sql import column_exists, create_column
 
 _logger = logging.getLogger(__name__)
 
 COLUMNS = (
+    ("sale_order", "price_subtotal_no_discount"),
     ("sale_order", "price_total_no_discount"),
     ("sale_order", "discount_total"),
+    ("sale_order_line", "price_subtotal_no_discount"),
     ("sale_order_line", "price_total_no_discount"),
     ("sale_order_line", "discount_total"),
 )
 
 
 def pre_init_hook(cr):
     for table, column in COLUMNS:
@@ -25,23 +27,27 @@
 
 def post_init_hook(cr, registry):
     _logger.info("Compute discount columns")
     env = Environment(cr, SUPERUSER_ID, {})
 
     query = """
     update sale_order_line
-    set price_total_no_discount = price_total
+    set
+        price_subtotal_no_discount = price_subtotal,
+        price_total_no_discount = price_total
     where discount = 0.0
     """
     cr.execute(query)
 
     query = """
-        update sale_order
-        set price_total_no_discount = amount_total
-        """
+    update sale_order
+    set
+        price_subtotal_no_discount = amount_untaxed,
+        price_total_no_discount = amount_total
+    """
     cr.execute(query)
 
     query = """
     select distinct order_id from sale_order_line where discount > 0.0;
     """
 
     cr.execute(query)
```

## odoo/addons/sale_discount_display_amount/i18n/ca.po

```diff
@@ -52,11 +52,17 @@
 
 #. module: sale_discount_display_amount
 #: model:ir.model,name:sale_discount_display_amount.model_sale_order_line
 msgid "Sales Order Line"
 msgstr "Línia de comandes de vendes"
 
 #. module: sale_discount_display_amount
-#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_total_no_discount
-#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_total_no_discount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_subtotal_no_discount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_subtotal_no_discount
 msgid "Subtotal Without Discount"
 msgstr "Subtotal sense descompte"
+
+#. module: sale_discount_display_amount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_total_no_discount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_total_no_discount
+msgid "Total Without Discount"
+msgstr "Total sense descompte"
```

## odoo/addons/sale_discount_display_amount/i18n/de.po

```diff
@@ -52,11 +52,17 @@
 
 #. module: sale_discount_display_amount
 #: model:ir.model,name:sale_discount_display_amount.model_sale_order_line
 msgid "Sales Order Line"
 msgstr "Auftragsposition"
 
 #. module: sale_discount_display_amount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_subtotal_no_discount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_subtotal_no_discount
+msgid "Subtotal Without Discount"
+msgstr "Zwischensumme ohne Rabatt"
+
+#. module: sale_discount_display_amount
 #: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_total_no_discount
 #: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_total_no_discount
-msgid "Subtotal Without Discount"
+msgid "Total Without Discount"
 msgstr "Bruttobetrag ohne Rabatt"
```

## odoo/addons/sale_discount_display_amount/i18n/es.po

```diff
@@ -52,11 +52,17 @@
 
 #. module: sale_discount_display_amount
 #: model:ir.model,name:sale_discount_display_amount.model_sale_order_line
 msgid "Sales Order Line"
 msgstr "Línea pedido de venta"
 
 #. module: sale_discount_display_amount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_subtotal_no_discount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_subtotal_no_discount
+msgid "Subtotal Without Discount"
+msgstr "Subtotal Sin Descuento"
+
+#. module: sale_discount_display_amount
 #: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_total_no_discount
 #: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_total_no_discount
-msgid "Subtotal Without Discount"
+msgid "Total Without Discount"
 msgstr "Total Sin Descuento"
```

## odoo/addons/sale_discount_display_amount/i18n/es_ES.po

```diff
@@ -50,11 +50,17 @@
 
 #. module: sale_discount_display_amount
 #: model:ir.model,name:sale_discount_display_amount.model_sale_order_line
 msgid "Sales Order Line"
 msgstr ""
 
 #. module: sale_discount_display_amount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_subtotal_no_discount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_subtotal_no_discount
+msgid "Subtotal Without Discount"
+msgstr ""
+
+#. module: sale_discount_display_amount
 #: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_total_no_discount
 #: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_total_no_discount
-msgid "Subtotal Without Discount"
+msgid "Total Without Discount"
 msgstr ""
```

## odoo/addons/sale_discount_display_amount/i18n/fr.po

```diff
@@ -53,11 +53,17 @@
 
 #. module: sale_discount_display_amount
 #: model:ir.model,name:sale_discount_display_amount.model_sale_order_line
 msgid "Sales Order Line"
 msgstr "Lignes de bon de commande"
 
 #. module: sale_discount_display_amount
-#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_total_no_discount
-#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_total_no_discount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_subtotal_no_discount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_subtotal_no_discount
 msgid "Subtotal Without Discount"
 msgstr "Sous-total sans la remise"
+
+#. module: sale_discount_display_amount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_total_no_discount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_total_no_discount
+msgid "Total Without Discount"
+msgstr "Total sans la remise"
```

## odoo/addons/sale_discount_display_amount/i18n/it.po

```diff
@@ -52,11 +52,17 @@
 
 #. module: sale_discount_display_amount
 #: model:ir.model,name:sale_discount_display_amount.model_sale_order_line
 msgid "Sales Order Line"
 msgstr "Riga ordine di vendita"
 
 #. module: sale_discount_display_amount
-#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_total_no_discount
-#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_total_no_discount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_subtotal_no_discount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_subtotal_no_discount
 msgid "Subtotal Without Discount"
 msgstr "Subtotale senza sconto"
+
+#. module: sale_discount_display_amount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_total_no_discount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_total_no_discount
+msgid "Total Without Discount"
+msgstr "Totale senza sconto"
```

## odoo/addons/sale_discount_display_amount/i18n/nl.po

```diff
@@ -52,11 +52,17 @@
 
 #. module: sale_discount_display_amount
 #: model:ir.model,name:sale_discount_display_amount.model_sale_order_line
 msgid "Sales Order Line"
 msgstr "Verkooporder regel"
 
 #. module: sale_discount_display_amount
-#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_total_no_discount
-#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_total_no_discount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_subtotal_no_discount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_subtotal_no_discount
 msgid "Subtotal Without Discount"
 msgstr "Subtotaal zonder korting"
+
+#. module: sale_discount_display_amount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_total_no_discount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_total_no_discount
+msgid "Total Without Discount"
+msgstr "Totaal zonder korting"
```

## odoo/addons/sale_discount_display_amount/i18n/sale_discount_display_amount.pot

```diff
@@ -49,11 +49,17 @@
 
 #. module: sale_discount_display_amount
 #: model:ir.model,name:sale_discount_display_amount.model_sale_order_line
 msgid "Sales Order Line"
 msgstr ""
 
 #. module: sale_discount_display_amount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_subtotal_no_discount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_subtotal_no_discount
+msgid "Subtotal Without Discount"
+msgstr ""
+
+#. module: sale_discount_display_amount
 #: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_total_no_discount
 #: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_total_no_discount
-msgid "Subtotal Without Discount"
+msgid "Total Without Discount"
 msgstr ""
```

## odoo/addons/sale_discount_display_amount/i18n/zh_CN.po

```diff
@@ -53,11 +53,17 @@
 
 #. module: sale_discount_display_amount
 #: model:ir.model,name:sale_discount_display_amount.model_sale_order_line
 msgid "Sales Order Line"
 msgstr "销售订单行"
 
 #. module: sale_discount_display_amount
-#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_total_no_discount
-#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_total_no_discount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_subtotal_no_discount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_subtotal_no_discount
 msgid "Subtotal Without Discount"
 msgstr "没有折扣的小计"
+
+#. module: sale_discount_display_amount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order__price_total_no_discount
+#: model:ir.model.fields,field_description:sale_discount_display_amount.field_sale_order_line__price_total_no_discount
+msgid "Total Without Discount"
+msgstr "没有折扣的共计"
```

## odoo/addons/sale_discount_display_amount/models/sale_order.py

```diff
@@ -1,40 +1,53 @@
 # Copyright 2018 ACSONE SA/NV
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
 from odoo import api, fields, models
 
 
 class SaleOrder(models.Model):
-
     _inherit = "sale.order"
 
     discount_total = fields.Monetary(
         compute="_compute_discount_total",
         string="Discount Subtotal",
         currency_field="currency_id",
         store=True,
     )
-    price_total_no_discount = fields.Monetary(
+    price_subtotal_no_discount = fields.Monetary(
         compute="_compute_discount_total",
         string="Subtotal Without Discount",
         currency_field="currency_id",
         store=True,
     )
+    price_total_no_discount = fields.Monetary(
+        compute="_compute_discount_total",
+        string="Total Without Discount",
+        currency_field="currency_id",
+        store=True,
+    )
 
     @api.model
     def _get_compute_discount_total_depends(self):
-        return ["order_line.discount_total", "order_line.price_total_no_discount"]
+        return [
+            "order_line.discount_total",
+            "order_line.price_subtotal_no_discount",
+            "order_line.price_total_no_discount",
+        ]
 
     @api.depends(lambda self: self._get_compute_discount_total_depends())
     def _compute_discount_total(self):
         for order in self:
             discount_total = sum(order.order_line.mapped("discount_total"))
+            price_subtotal_no_discount = sum(
+                order.order_line.mapped("price_subtotal_no_discount")
+            )
             price_total_no_discount = sum(
                 order.order_line.mapped("price_total_no_discount")
             )
             order.update(
                 {
                     "discount_total": discount_total,
+                    "price_subtotal_no_discount": price_subtotal_no_discount,
                     "price_total_no_discount": price_total_no_discount,
                 }
             )
```

## odoo/addons/sale_discount_display_amount/models/sale_order_line.py

```diff
@@ -1,46 +1,52 @@
 # Copyright 2018 ACSONE SA/NV
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
 from odoo import api, fields, models
 
 
 class SaleOrderLine(models.Model):
-
     _inherit = "sale.order.line"
 
     discount_total = fields.Monetary(
         compute="_compute_amount", string="Discount Subtotal", store=True
     )
-    price_total_no_discount = fields.Monetary(
+    price_subtotal_no_discount = fields.Monetary(
         compute="_compute_amount", string="Subtotal Without Discount", store=True
     )
+    price_total_no_discount = fields.Monetary(
+        compute="_compute_amount", string="Total Without Discount", store=True
+    )
 
     def _update_discount_display_fields(self):
         for line in self:
+            line.price_subtotal_no_discount = 0
             line.price_total_no_discount = 0
             line.discount_total = 0
             if not line.discount:
                 line.price_total_no_discount = line.price_total
+                line.price_subtotal_no_discount = line.price_subtotal
                 continue
             price = line.price_unit
             taxes = line.tax_id.compute_all(
                 price,
                 line.order_id.currency_id,
                 line.product_uom_qty,
                 product=line.product_id,
                 partner=line.order_id.partner_shipping_id,
             )
 
+            price_subtotal_no_discount = taxes["total_excluded"]
             price_total_no_discount = taxes["total_included"]
             discount_total = price_total_no_discount - line.price_total
 
             line.update(
                 {
                     "discount_total": discount_total,
+                    "price_subtotal_no_discount": price_subtotal_no_discount,
                     "price_total_no_discount": price_total_no_discount,
                 }
             )
 
     @api.model
     def _get_compute_amount_depends(self):
         return ["product_uom_qty", "discount", "price_unit", "tax_id"]
```

## odoo/addons/sale_discount_display_amount/tests/test_discount_display_amount.py

```diff
@@ -16,11 +16,13 @@
         self.env["sale.order.line"].create(
             {"order_id": so.id, "product_id": product1.id, "price_unit": 30.75}
         )
 
         first_line = so.order_line[0]
         first_line.discount = 10
 
+        self.assertAlmostEqual(first_line.price_subtotal_no_discount, 30.75)
         self.assertAlmostEqual(first_line.price_total_no_discount, 35.36)
         self.assertAlmostEqual(first_line.discount_total, 3.53)
-        self.assertAlmostEqual(so.discount_total, 3.53)
+        self.assertAlmostEqual(so.price_subtotal_no_discount, 30.75)
         self.assertAlmostEqual(so.price_total_no_discount, 35.36)
+        self.assertAlmostEqual(so.discount_total, 3.53)
```

## odoo/addons/sale_discount_display_amount/views/sale_view.xml

### odoo/addons/sale_discount_display_amount/views/sale_view.xml

```diff
@@ -1,9 +1,19 @@
 <?xml version="1.0" encoding="utf-8"?>
 <odoo>
+  <record id="view_order_form" model="ir.ui.view">
+    <field name="inherit_id" ref="sale.view_order_form"/>
+    <field name="model">sale.order</field>
+    <field name="arch" type="xml">
+      <xpath expr="//field[@name='order_line']//tree//field[@name='discount']" position="after">
+        <field name="price_subtotal_no_discount" optional="hide"/>
+        <field name="price_total_no_discount" optional="hide"/>
+      </xpath>
+    </field>
+  </record>
   <record id="sale_order_view_form_display_discount" model="ir.ui.view">
     <field name="model">sale.order</field>
     <field name="inherit_id" ref="sale.view_order_form"/>
     <field name="priority">99</field>
     <field name="arch" type="xml">
       <data>
         <xpath expr="//field[@name='amount_tax']" position="after">
```

## Comparing `odoo14_addon_sale_discount_display_amount-14.0.1.1.1.dev2.dist-info/METADATA` & `odoo14_addon_sale_discount_display_amount-14.0.1.3.0.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-sale-discount-display-amount
-Version: 14.0.1.1.1.dev2
+Version: 14.0.1.3.0
 Summary: This addon intends to display the amount of the discount computed on sale_order_line and sale_order level
 Home-page: https://github.com/OCA/sale-workflow
 Author: ACSONE SA/NV,Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo14_addon_sale_discount_display_amount-14.0.1.1.1.dev2.dist-info/RECORD` & `odoo14_addon_sale_discount_display_amount-14.0.1.3.0.dist-info/RECORD`

 * *Files 12% similar despite different names*

```diff
@@ -1,30 +1,32 @@
 odoo/addons/sale_discount_display_amount/README.rst,sha256=4mCq6Ka1QAbuh8tOZbNeqEbyuu82j5OsVNojn7xpKgU,3413
 odoo/addons/sale_discount_display_amount/__init__.py,sha256=cKQ4bUPoefetzjiSvzgOZ3xmf5sjGckdzyS_qNnr1Os,88
-odoo/addons/sale_discount_display_amount/__manifest__.py,sha256=QT4n4r4KysMY36x6EyjBpD7LkvsQ7my8TLTp7CTe858,669
-odoo/addons/sale_discount_display_amount/hooks.py,sha256=tGWDWmkwNMRqWr5ya9hySBiVTDbGX3LYiNHPAWxgSRU,1381
-odoo/addons/sale_discount_display_amount/i18n/ca.po,sha256=gA55tGoOxtDnOeNpRLZCMNcbnyCjYng3KGmHF0rZ_dg,2580
-odoo/addons/sale_discount_display_amount/i18n/de.po,sha256=XLPoLAgYEqCxhbtwWr9Xw_C6T2kFBB8JCvBwp0TkwQU,2525
-odoo/addons/sale_discount_display_amount/i18n/es.po,sha256=HRb0Pga5sQ5fJrmcY4AxnSRPM618DrL0OIb3QPuMWYA,2527
-odoo/addons/sale_discount_display_amount/i18n/es_ES.po,sha256=XfGa2hzHwqqFVt7uhcGlPJg_-LNlxfRBFWR2lEepwo8,2359
-odoo/addons/sale_discount_display_amount/i18n/fr.po,sha256=UrWJ-4RnH9AoFKWytMjPHE8yhYFzfn4-pH7betyPl1w,2551
-odoo/addons/sale_discount_display_amount/i18n/it.po,sha256=aJqgaMCNyLKpm07fBLwehhVCiwxxfcTI8cq0x27s1Hg,2559
-odoo/addons/sale_discount_display_amount/i18n/nl.po,sha256=R-RAjZ4JcKGFk2Vj2pi2q6CpWTP3pxaQ8mx8yHSTdh0,2568
-odoo/addons/sale_discount_display_amount/i18n/sale_discount_display_amount.pot,sha256=ixCZzO-m7k0krobWebLahq-EXQF0iyk95qOf5jkIEHs,2286
-odoo/addons/sale_discount_display_amount/i18n/zh_CN.po,sha256=NRjw6qoZONByNWKIp4zLJdp-Lw6rwzdN9_dNtIkbt9c,2501
+odoo/addons/sale_discount_display_amount/__manifest__.py,sha256=hlFC8wlbkqRbDrYMA7JGdEeJGlu_bvn3oDR4hFiaQYM,669
+odoo/addons/sale_discount_display_amount/hooks.py,sha256=qX0BmiJTKlPRK2RsudbI2_YXzydcymDkumhCfLB2v7M,1596
+odoo/addons/sale_discount_display_amount/i18n/ca.po,sha256=6Wp09GLt7eSHKkdh7vracYtH15gCQo_KVaaKA60fAVo,2922
+odoo/addons/sale_discount_display_amount/i18n/de.po,sha256=AnEfY02lMl2dh-sjE_MzjS60fY0_6EMGI6XxR6c7TxI,2871
+odoo/addons/sale_discount_display_amount/i18n/es.po,sha256=LfBMyhwRVTVDeWtLI2fGy-bi1067usYMHQLqVGoLt_g,2870
+odoo/addons/sale_discount_display_amount/i18n/es_ES.po,sha256=dIlT9lmY3YoKPcjDIaNGnxR5NvCvJ8oHl-RyBevMUSM,2680
+odoo/addons/sale_discount_display_amount/i18n/fr.po,sha256=utRx-X6AlcCRsvgbVPJrjq5NZiijlFWZb6mWOFIdw6Q,2892
+odoo/addons/sale_discount_display_amount/i18n/it.po,sha256=AWZhtQr0PHKhqpWdznLd4TpIOzajcZkc1jnr4p_VWZg,2899
+odoo/addons/sale_discount_display_amount/i18n/nl.po,sha256=78X8rHjHyHQRrSd0YMXf_28jfsiMkwbA4rEiyCoJioA,2910
+odoo/addons/sale_discount_display_amount/i18n/sale_discount_display_amount.pot,sha256=LEHFfgUy6wlIeVjocwMvMRItsuDAPz-xoKfNoEJQKgU,2607
+odoo/addons/sale_discount_display_amount/i18n/zh_CN.po,sha256=N6WQgk45bBTK4TNMgGc1N1UqcmHSrDDQ3r1vIeQsBE0,2843
+odoo/addons/sale_discount_display_amount/migrations/14.0.1.2.0/post-compute-subtotal-columns.py,sha256=_kIJM1gIKM0YI1mnpbj3yxXcyd25q5_YaysJ6Xo7L0w,805
+odoo/addons/sale_discount_display_amount/migrations/14.0.1.2.0/pre-add-subtotal-columns.py,sha256=p2Bw_OoU5SsPqekZp_JNTgz5R_c3_YDYYe3GG20LNK8,472
 odoo/addons/sale_discount_display_amount/models/__init__.py,sha256=I_8bxDAL2gbIumsVHR6CpDY7DPu8L1SbvpT_apDxH7Y,55
-odoo/addons/sale_discount_display_amount/models/sale_order.py,sha256=DrFJRkVrEw-pxhUF1EiZZHtkaHS016Q6TNEJfrIw2hk,1267
-odoo/addons/sale_discount_display_amount/models/sale_order_line.py,sha256=AAiAkR_iIAXyz1nLHa75NddEXEPzSNQai6BgxDKnNtw,1705
+odoo/addons/sale_discount_display_amount/models/sale_order.py,sha256=jBAve6RdYKd1NBodB0MFRrkpO9-aRfKCxs3676_vFUc,1760
+odoo/addons/sale_discount_display_amount/models/sale_order_line.py,sha256=vcPPYY32LAk2UVdyqhmXWeJsW362FEtyrJvyGuB3m9E,2100
 odoo/addons/sale_discount_display_amount/readme/CONFIGURE.rst,sha256=jX6xfYlVxBhHOQwXs7nCV7WPFQmVkjkRmwqUiz2NPdw,113
 odoo/addons/sale_discount_display_amount/readme/CONTRIBUTORS.rst,sha256=-RQj6yPqtv7Vy2M0nFYU2NNv09oImJImODj_pmiDcO8,172
 odoo/addons/sale_discount_display_amount/readme/DESCRIPTION.rst,sha256=OkY88Ow3BDbKd7vJSqMCpcz2zrc4R2a_PUqhLzwMXTI,276
 odoo/addons/sale_discount_display_amount/readme/USAGE.rst,sha256=RqGsyy1rDS8pWUxJqm934C6TViWj2jfH0Q_aY8r09O8,180
 odoo/addons/sale_discount_display_amount/report/sale_report_template.xml,sha256=uy4sjm4IDA53FK6Lq1209wlSQ9K8bp8XvzDaQyJnlzg,605
 odoo/addons/sale_discount_display_amount/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
 odoo/addons/sale_discount_display_amount/static/description/index.html,sha256=Q6ZhhD2tb7bYVwDiUWD7YfdId456W78N3ppXNKrTZ4U,13232
 odoo/addons/sale_discount_display_amount/tests/__init__.py,sha256=3GJu8FUJBeBhdtCSzXN20ZcPP3gILZe7YTbgIlELCFU,43
-odoo/addons/sale_discount_display_amount/tests/test_discount_display_amount.py,sha256=4gDN3dWuQf2sWAkhnTmbgRVgN70Phi8ZXpPemT9vbXc,1032
-odoo/addons/sale_discount_display_amount/views/sale_view.xml,sha256=zRXjV5Pjs39oiENB3j39TC2Q5URpgCKhROuVRWhzWkM,588
-odoo14_addon_sale_discount_display_amount-14.0.1.1.1.dev2.dist-info/METADATA,sha256=03nn9zrPmxFiCaD6vm3sIT1kXJldL8kDY8kaO94sFW0,4052
-odoo14_addon_sale_discount_display_amount-14.0.1.1.1.dev2.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-odoo14_addon_sale_discount_display_amount-14.0.1.1.1.dev2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_sale_discount_display_amount-14.0.1.1.1.dev2.dist-info/RECORD,,
+odoo/addons/sale_discount_display_amount/tests/test_discount_display_amount.py,sha256=6Nbf0MDhCOaKF6LAAtbEFCA6zFILXtQQD2XHSd29BdE,1178
+odoo/addons/sale_discount_display_amount/views/sale_view.xml,sha256=7ww9iVDJdOyvNUHic2lhHiG50GZzG2VgSXQz74clxe0,1139
+odoo14_addon_sale_discount_display_amount-14.0.1.3.0.dist-info/METADATA,sha256=U-E0YTNi8pjZoW54j7esoagP7zN8FKbA1qwGTtdhDX4,4047
+odoo14_addon_sale_discount_display_amount-14.0.1.3.0.dist-info/WHEEL,sha256=AtBG6SXL3KF_v0NxLf0ehyVOh0cold-JbJYXNGorC6Q,92
+odoo14_addon_sale_discount_display_amount-14.0.1.3.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_sale_discount_display_amount-14.0.1.3.0.dist-info/RECORD,,
```

