# Comparing `tmp/odoo14_addon_ssi_fixed_asset-14.0.1.6.0-py3-none-any.whl.zip` & `tmp/odoo14_addon_ssi_fixed_asset-14.0.1.7.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,39 +1,39 @@
-Zip file size: 348387 bytes, number of entries: 37
--rw-r--r--  2.0 unx     1514 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/README.rst
--rw-r--r--  2.0 unx      194 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/__init__.py
--rw-r--r--  2.0 unx     1722 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/__manifest__.py
--rw-r--r--  2.0 unx      436 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/data/account_journal_data.xml
--rw-r--r--  2.0 unx     1001 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/data/approval_template_data.xml
--rw-r--r--  2.0 unx      771 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/data/ir_sequence_data.xml
--rw-r--r--  2.0 unx      765 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/data/ir_server_action_data.xml
--rw-r--r--  2.0 unx     5482 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/data/policy_template_data.xml
--rw-r--r--  2.0 unx     1290 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/data/sequence_template_data.xml
--rw-r--r--  2.0 unx     2193 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/demo/account_account_demo.xml
--rw-r--r--  2.0 unx      443 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/demo/account_journal_demo.xml
--rw-r--r--  2.0 unx     1812 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/demo/fixed_asset_category_demo.xml
--rw-r--r--  2.0 unx      358 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/models/__init__.py
--rw-r--r--  2.0 unx      495 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/models/account_account.py
--rw-r--r--  2.0 unx      267 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/models/account_move.py
--rw-r--r--  2.0 unx     3309 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/models/account_move_line.py
--rw-r--r--  2.0 unx    55043 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/models/fixed_asset_asset.py
--rw-r--r--  2.0 unx     6062 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/models/fixed_asset_category.py
--rw-r--r--  2.0 unx    11726 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/models/fixed_asset_depreciation_line.py
--rw-r--r--  2.0 unx      437 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/models/fixed_asset_depreciation_line_subtype.py
--rw-r--r--  2.0 unx      537 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/security/account_asset_security.xml
--rw-r--r--  2.0 unx     1673 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/security/ir.model.access.csv
--rw-r--r--  2.0 unx      471 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/security/ir_module_category_data.xml
--rw-r--r--  2.0 unx     2006 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/security/res_group_data.xml
--rw-r--r--  2.0 unx   268232 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/static/description/banner.png
--rw-r--r--  2.0 unx    48333 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/static/description/icon.png
--rw-r--r--  2.0 unx      663 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/views/account_account_view.xml
--rw-r--r--  2.0 unx     1842 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/views/account_move_line_views.xml
--rw-r--r--  2.0 unx    23937 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/views/fixed_asset_asset.xml
--rw-r--r--  2.0 unx     4997 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/views/fixed_asset_category.xml
--rw-r--r--  2.0 unx      192 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/wizards/__init__.py
--rw-r--r--  2.0 unx     1178 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/wizards/mass_depreciation.py
--rw-r--r--  2.0 unx     1669 b- defN 23-Aug-03 09:36 odoo/addons/ssi_fixed_asset/wizards/mass_depreciation_views.xml
--rw-r--r--  2.0 unx     2413 b- defN 23-Aug-03 09:37 odoo14_addon_ssi_fixed_asset-14.0.1.6.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Aug-03 09:37 odoo14_addon_ssi_fixed_asset-14.0.1.6.0.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Aug-03 09:37 odoo14_addon_ssi_fixed_asset-14.0.1.6.0.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     4121 b- defN 23-Aug-03 09:37 odoo14_addon_ssi_fixed_asset-14.0.1.6.0.dist-info/RECORD
-37 files, 457681 bytes uncompressed, 341397 bytes compressed:  25.4%
+Zip file size: 348514 bytes, number of entries: 37
+-rw-r--r--  2.0 unx     1514 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/README.rst
+-rw-r--r--  2.0 unx      194 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/__init__.py
+-rw-r--r--  2.0 unx     1722 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/__manifest__.py
+-rw-r--r--  2.0 unx      436 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/data/account_journal_data.xml
+-rw-r--r--  2.0 unx     1001 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/data/approval_template_data.xml
+-rw-r--r--  2.0 unx      771 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/data/ir_sequence_data.xml
+-rw-r--r--  2.0 unx      765 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/data/ir_server_action_data.xml
+-rw-r--r--  2.0 unx     5482 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/data/policy_template_data.xml
+-rw-r--r--  2.0 unx     1290 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/data/sequence_template_data.xml
+-rw-r--r--  2.0 unx     2193 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/demo/account_account_demo.xml
+-rw-r--r--  2.0 unx      443 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/demo/account_journal_demo.xml
+-rw-r--r--  2.0 unx     1812 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/demo/fixed_asset_category_demo.xml
+-rw-r--r--  2.0 unx      358 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/models/__init__.py
+-rw-r--r--  2.0 unx      495 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/models/account_account.py
+-rw-r--r--  2.0 unx      267 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/models/account_move.py
+-rw-r--r--  2.0 unx     3309 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/models/account_move_line.py
+-rw-r--r--  2.0 unx    56403 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/models/fixed_asset_asset.py
+-rw-r--r--  2.0 unx     6062 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/models/fixed_asset_category.py
+-rw-r--r--  2.0 unx    11826 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/models/fixed_asset_depreciation_line.py
+-rw-r--r--  2.0 unx      437 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/models/fixed_asset_depreciation_line_subtype.py
+-rw-r--r--  2.0 unx      537 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/security/account_asset_security.xml
+-rw-r--r--  2.0 unx     1673 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/security/ir.model.access.csv
+-rw-r--r--  2.0 unx      471 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/security/ir_module_category_data.xml
+-rw-r--r--  2.0 unx     2006 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/security/res_group_data.xml
+-rw-r--r--  2.0 unx   268232 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/static/description/banner.png
+-rw-r--r--  2.0 unx    48333 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/static/description/icon.png
+-rw-r--r--  2.0 unx      663 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/views/account_account_view.xml
+-rw-r--r--  2.0 unx     1842 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/views/account_move_line_views.xml
+-rw-r--r--  2.0 unx    23923 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/views/fixed_asset_asset.xml
+-rw-r--r--  2.0 unx     4997 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/views/fixed_asset_category.xml
+-rw-r--r--  2.0 unx      192 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/wizards/__init__.py
+-rw-r--r--  2.0 unx     1178 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/wizards/mass_depreciation.py
+-rw-r--r--  2.0 unx     1669 b- defN 23-Aug-07 08:00 odoo/addons/ssi_fixed_asset/wizards/mass_depreciation_views.xml
+-rw-r--r--  2.0 unx     2413 b- defN 23-Aug-07 08:00 odoo14_addon_ssi_fixed_asset-14.0.1.7.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Aug-07 08:00 odoo14_addon_ssi_fixed_asset-14.0.1.7.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Aug-07 08:00 odoo14_addon_ssi_fixed_asset-14.0.1.7.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     4121 b- defN 23-Aug-07 08:00 odoo14_addon_ssi_fixed_asset-14.0.1.7.0.dist-info/RECORD
+37 files, 459127 bytes uncompressed, 341524 bytes compressed:  25.6%
```

## zipnote {}

```diff
@@ -93,20 +93,20 @@
 
 Filename: odoo/addons/ssi_fixed_asset/wizards/mass_depreciation.py
 Comment: 
 
 Filename: odoo/addons/ssi_fixed_asset/wizards/mass_depreciation_views.xml
 Comment: 
 
-Filename: odoo14_addon_ssi_fixed_asset-14.0.1.6.0.dist-info/METADATA
+Filename: odoo14_addon_ssi_fixed_asset-14.0.1.7.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_ssi_fixed_asset-14.0.1.6.0.dist-info/WHEEL
+Filename: odoo14_addon_ssi_fixed_asset-14.0.1.7.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_ssi_fixed_asset-14.0.1.6.0.dist-info/top_level.txt
+Filename: odoo14_addon_ssi_fixed_asset-14.0.1.7.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_ssi_fixed_asset-14.0.1.6.0.dist-info/RECORD
+Filename: odoo14_addon_ssi_fixed_asset-14.0.1.7.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/ssi_fixed_asset/__manifest__.py

```diff
@@ -1,14 +1,14 @@
 # Copyright 2022 OpenSynergy Indonesia
 # Copyright 2022 PT. Simetri Sinergi Indonesia
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl).
 
 {
     "name": "Fixed Asset",
-    "version": "14.0.1.6.0",
+    "version": "14.0.1.7.0",
     "category": "Accounting & Finance",
     "website": "https://simetri-sinergi.id",
     "author": "PT. Simetri Sinergi Indonesia, OpenSynergy Indonesia",
     "license": "AGPL-3",
     "application": False,
     "installable": True,
     "depends": [
```

## odoo/addons/ssi_fixed_asset/models/fixed_asset_asset.py

```diff
@@ -116,25 +116,26 @@
             asset_ids = self.search(criteria, limit=limit)
             if asset_ids:
                 return asset_ids.name_get()
         return res
 
     name = fields.Char(
         string="Asset Name",
-        size=64,
         required=True,
         readonly=True,
         states={"draft": [("readonly", False)]},
+        default=False,
     )
     code = fields.Char(
         string="Reference",
         readonly=True,
         states={"draft": [("readonly", False)]},
         default="/",
         copy=False,
+        required=True,
     )
     purchase_value = fields.Float(
         string="Purchase Value",
         required=True,
         readonly=True,
         states={"draft": [("readonly", False)]},
         help="\nThe Asset Value is calculated as follows:"
@@ -487,46 +488,51 @@
         "depreciation_line_ids",
         "depreciation_line_ids.line_date",
     )
     def _compute_method_period_number(self):
         for asset in self:
             method_period_start_number = (
                 method_period_depreciated_number
-            ) = method_period_remaining_number = 0.0
-            asset_value = asset.last_posted_asset_value_id
-            depreciation = asset.last_depreciation_id
-
-            coef_method_time = asset._get_method_time_coefficient()
-            coef_method_period = asset._get_method_period_coefficient()
-            method_period_number = (
-                coef_method_time / coef_method_period
-            ) * asset.method_number
-            np_date_unit = asset._get_numpy_date_unit()
-
-            dt_asset_start_date = np.datetime64(asset._get_date_start(), np_date_unit)
-
-            if asset_value:
-                dt_posted_asset_value_date = np.datetime64(
-                    asset_value.line_date, np_date_unit
+            ) = method_period_remaining_number = method_period_number = 0.0
+            if asset.last_posted_asset_value_id:
+                asset_value = asset.last_posted_asset_value_id
+                depreciation = asset.last_depreciation_id
+
+                coef_method_time = asset._get_method_time_coefficient()
+                coef_method_period = asset._get_method_period_coefficient()
+                method_period_number = (
+                    coef_method_time / coef_method_period
+                ) * asset.method_number
+                np_date_unit = asset._get_numpy_date_unit()
+
+                dt_asset_start_date = np.datetime64(
+                    asset._get_date_start(), np_date_unit
                 )
-                dt_diff = dt_posted_asset_value_date - dt_asset_start_date
-                method_period_start_number = int(dt_diff / coef_method_period)
 
-            if depreciation and asset_value:
-                # TODO: Pretty sure numpy has method to change string into dt
-                dt_temp = asset_value.line_date
-                dt_temp = dt_temp + relativedelta(day=1, days=-1)
-                dt_temp = np.datetime64(dt_temp, np_date_unit)
-                dt_depreciation = np.datetime64(depreciation.line_date, np_date_unit)
-                method_period_depreciated_number = dt_depreciation - dt_temp
-            method_period_remaining_number = (
-                method_period_number
-                - method_period_start_number
-                - int(method_period_depreciated_number)
-            )
+                if asset_value:
+                    dt_posted_asset_value_date = np.datetime64(
+                        asset_value.line_date, np_date_unit
+                    )
+                    dt_diff = dt_posted_asset_value_date - dt_asset_start_date
+                    method_period_start_number = int(dt_diff / coef_method_period)
+
+                if depreciation and asset_value:
+                    # TODO: Pretty sure numpy has method to change string into dt
+                    dt_temp = asset_value.line_date
+                    dt_temp = dt_temp + relativedelta(day=1, days=-1)
+                    dt_temp = np.datetime64(dt_temp, np_date_unit)
+                    dt_depreciation = np.datetime64(
+                        depreciation.line_date, np_date_unit
+                    )
+                    method_period_depreciated_number = dt_depreciation - dt_temp
+                method_period_remaining_number = (
+                    method_period_number
+                    - method_period_start_number
+                    - int(method_period_depreciated_number)
+                )
 
             asset.method_period_number = method_period_number
             asset.method_period_start_number = method_period_start_number
             asset.method_period_depreciated_number = method_period_depreciated_number
             asset.method_period_remaining_number = method_period_remaining_number
 
     method_period_number = fields.Integer(
@@ -974,21 +980,19 @@
     def _create_depreciation_lines(self, table, table_index_start, line_index_start):
         self.ensure_one()
         line_i_start = line_index_start
         table_i_start = table_index_start
         posted_lines = self.posted_depreciation_line_ids
         obj_line = self.env["fixed.asset.depreciation.line"]
         seq = len(posted_lines)
-        # SPONGE
         depr_line = self.last_posted_history_id
         # depr_line = self.last_posted_depreciation_line_id
 
         # last_date = table[-1]["lines"][-1]["date"]
         depreciated_value = sum(vari_l.amount for vari_l in posted_lines)
-
         for entry in table[table_i_start:]:
             for line in entry["lines"][line_i_start:]:
                 seq += 1
                 name = self._get_depreciation_entry_name(seq)
                 amount = line["amount"]
 
                 if amount:
@@ -1056,46 +1060,60 @@
                 break
 
         i_max = i
         table = table[: i_max + 1]
         return table
 
     def compute_depreciation_board(self):
-        for asset in self:
+        for asset in self.sudo():
             if asset.value_residual == 0.0:
                 continue
             asset._delete_unposted_history()
             table = asset._compute_depreciation_table()
+
             if not table:
                 continue
+
             table_i_start, line_i_start = asset._compute_starting_depreciation_entry(
                 table
             )
             asset._create_depreciation_lines(table, table_i_start, line_i_start)
-        return True
+            asset._recompute_lines()
+
+    def _recompute_lines(self):
+        self.ensure_one()
+        domain = [
+            ("asset_id", "=", self.id),
+            ("type", "=", "depreciate"),
+            ("move_id", "=", False),
+            ("init_entry", "=", False),
+        ]
+        Line = self.env["fixed.asset.depreciation.line"]
+        lines = Line.search(domain)
+        lines.action_compute()
 
     def _get_depreciation_start_date(self, fy):
         """
         In case of 'Linear': the first month is counted as a full month
         if the fiscal year starts in the middle of a month.
         """
         if self.prorata:
-            depreciation_start_date = self._get_date_start()
+            depreciation_start_date = self.last_posted_asset_line_id.line_date
         else:
             depreciation_start_date = fy.date_from
         return depreciation_start_date
 
     def _get_depreciation_stop_date(self, depreciation_start_date):
         if self.method_time == "year" and not self.method_end:
             depreciation_stop_date = depreciation_start_date + relativedelta(
-                years=self.method_number, days=-1
+                years=self.method_number, months=-1, day=31
             )
         if self.method_time == "month" and not self.method_end:
             depreciation_stop_date = depreciation_start_date + relativedelta(
-                months=self.method_number, days=-1
+                months=self.method_number - 1, day=31
             )
         elif self.method_time == "number":
             if self.method_period == "month":
                 depreciation_stop_date = depreciation_start_date + relativedelta(
                     months=self.method_number, days=-1
                 )
             elif self.method_period == "quarter":
@@ -1363,69 +1381,99 @@
 
         table = []
         if self.method_time in ["year", "number"] and not self.method_number:
             return table
 
         company = self.company_id
         init_flag = False
-        asset_date_start = self._get_date_start()
-        # asset_date_start = datetime.strptime(self._get_date_start(), "%Y-%m-%d")
+        asset_date_start = self.last_posted_asset_line_id.line_date
         fy = self._get_fy_info(asset_date_start)
         fiscalyear_lock_date = company.fiscalyear_lock_date
 
-        if fiscalyear_lock_date and fiscalyear_lock_date >= self._get_date_start():
+        if fiscalyear_lock_date and fiscalyear_lock_date >= asset_date_start:
             init_flag = True
 
         depreciation_start_date = self._get_depreciation_start_date(fy["record"])
+
+        # SPONGE
+        # raise UserError(str(depreciation_start_date))
+
+        # depreciation_stop_date = self._get_depreciation_stop_date(
+        #     depreciation_start_date
+        # )
         depreciation_stop_date = self._get_depreciation_stop_date(
-            depreciation_start_date
+            self._get_date_start()
         )
+
+        # SPONGE
+        # raise UserError(str(depreciation_stop_date))
+
         fy_date_start = asset_date_start
 
         while fy_date_start <= depreciation_stop_date:
             fy_info = self._get_fy_info(fy_date_start)
             table.append(
                 {
                     "fy_id": fy_info["record"],
                     "date_start": fy_info["date_from"],
                     "date_stop": fy_info["date_to"],
                     "init": init_flag,
                 }
             )
             fy_date_start = fy_info["date_to"] + relativedelta(days=1)
 
+        # SPONGE
+        # raise UserError(str(table))
+
         # Step 1:
         # Calculate depreciation amount per fiscal year.
         # This is calculation is skipped for method_time != 'year'.
         line_dates = self._compute_line_dates(
             table, depreciation_start_date, depreciation_stop_date
         )
 
+        # SPONGE
+        # raise UserError(str(line_dates))
+
         table = self._compute_depreciation_amount_per_fiscal_year(table, line_dates)
 
+        # SPONGE
+        # raise UserError(str(table))
+
         # Step 2:
         # Spread depreciation amount per fiscal year
         # over the depreciation periods.
         self._compute_depreciation_table_lines(
             table, depreciation_start_date, depreciation_stop_date, line_dates
         )
 
+        # SPONGE
+        # raise UserError(str(table))
+
         return table
 
     # -- Constrains Methods --
     @api.constrains(
         "method",
         "method_time",
     )
     def _check_method(self):
         str_error = _("Degressive-Linear is only supported for Time Method = Year.")
         if self.method == "degr-linear" and self.method_time != "year":
             raise UserError(str_error)
 
     # -- Onchange Methods --
+
+    @api.onchange(
+        "category_id",
+    )
+    def onchange_policy_template_id(self):
+        template_id = self._get_template_policy()
+        self.policy_template_id = template_id
+
     @api.onchange(
         "category_id",
     )
     def onchange_category_id(self):
         if not self._context.get("create_asset_from_move_line"):
             if self.depreciation_line_ids:
                 for line in self.depreciation_line_ids:
@@ -1469,18 +1517,19 @@
 
     @api.onchange(
         "date_start",
         "prorate_by_month",
         "date_min_prorate",
     )
     def onchange_line_date_depreciation_line(self):
-        dl_ids = self.depreciation_line_ids.filtered(lambda x: x.type == "create")
-        if dl_ids:
-            for document in dl_ids:
-                document.line_date = self._get_date_start()
+        if self.date_start:
+            dl_ids = self.depreciation_line_ids.filtered(lambda x: x.type == "create")
+            if dl_ids:
+                for document in dl_ids:
+                    document.line_date = self._get_date_start()
 
     @api.onchange(
         "method_time",
     )
     def onchange_method_time(self):
         if self.method_time != "year":
             self.prorata = True
```

## odoo/addons/ssi_fixed_asset/models/fixed_asset_depreciation_line.py

```diff
@@ -335,7 +335,11 @@
         currency = asset.company_id.currency_id
         if not currency.is_zero(asset.value_residual):
             asset.write({"state": "open"})
 
     def action_unmark_as_init(self):
         for document in self.sudo():
             document._unmark_as_init()
+
+    def action_compute(self):
+        for document in self.sudo():
+            document._compute()
```

## odoo/addons/ssi_fixed_asset/views/fixed_asset_asset.xml

### odoo/addons/ssi_fixed_asset/views/fixed_asset_asset.xml

```diff
@@ -101,21 +101,22 @@
                   <field name="init_entry" string="Init"/>
                   <field name="move_check"/>
                   <field name="parent_state" invisible="1"/>
                   <button name="action_mark_as_init" icon="fa-check" title="Mark As Init" confirm="Mark as init. Are you sure?" type="object" attrs="{'invisible':['|','|',('init_entry','=',True),('move_check','!=',False),('parent_state','not in',['open','close'])]}"/>
                   <button name="action_unmark_as_init" icon="fa-close" title="Unmark As Init" confirm="Unmark as init. Are you sure?" type="object" attrs="{'invisible':['|','|',('init_entry','!=',True),('move_check','!=',False),('parent_state','not in',['open','close'])]}"/>
                   <button name="create_move" icon="fa-gears" title="Create Move" type="object" confirm="Create accounting entry. Are you sure?" attrs="{'invisible':['|','|',('init_entry','=',True),('move_check','!=',False),('parent_state','!=','open')]}"/>
                   <button name="open_move" icon="fa-list" title="View Move" type="object" attrs="{'invisible':[('move_check','!=',True)]}"/>
-                  <button name="unlink_move" icon="fa-eraser" title="Delete Move" type="object" confirm="Delete accounting entry. Are you sure?" groups="account.group_account_manager" attrs="{'invisible':[('move_check','!=',True)]}"/>
+                  <button name="unlink_move" icon="fa-eraser" title="Delete Move" type="object" confirm="Delete accounting entry. Are you sure?" attrs="{'invisible':[('move_check','!=',True)]}"/>
                 </tree>
                 <form string="Asset Line">
                   <group name="grp_depreciation_1" colspan="4" col="2">
                     <group name="grp_depreciation_1_1" colspan="1" col="2">
                       <field name="parent_state" invisible="1"/>
                       <field name="asset_value" invisible="1"/>
+                      <field name="previous_id"/>
                       <field name="type"/>
                       <field name="subtype_id"/>
                       <field name="name"/>
                       <field name="amount" attrs="{'readonly':[('move_check','=',True)]}"/>
                       <field name="init_entry" attrs="{'readonly':['|', ('move_check', '=', True), ('type', '=', 'create')]}"/>
                       <field name="move_id"/>
                       <field name="move_check"/>
```

## Comparing `odoo14_addon_ssi_fixed_asset-14.0.1.6.0.dist-info/METADATA` & `odoo14_addon_ssi_fixed_asset-14.0.1.7.0.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-ssi-fixed-asset
-Version: 14.0.1.6.0
+Version: 14.0.1.7.0
 Summary: Fixed Asset
 Home-page: https://simetri-sinergi.id
 Author: PT. Simetri Sinergi Indonesia, OpenSynergy Indonesia
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
 Classifier: Framework :: Odoo
```

## Comparing `odoo14_addon_ssi_fixed_asset-14.0.1.6.0.dist-info/RECORD` & `odoo14_addon_ssi_fixed_asset-14.0.1.7.0.dist-info/RECORD`

 * *Files 16% similar despite different names*

```diff
@@ -1,37 +1,37 @@
 odoo/addons/ssi_fixed_asset/README.rst,sha256=hsKqTxUMxFX7hPkTp1I9PjHWAy3sI5AxLQH76xjhvPM,1514
 odoo/addons/ssi_fixed_asset/__init__.py,sha256=pRKbl9Mx2mohjAYnvxZ4ffwQBpKa7G0jvysbUVxN1FY,194
-odoo/addons/ssi_fixed_asset/__manifest__.py,sha256=lrWqnEUvp7IBZGfgtmUJsMa61iQpl525l699B_JjseM,1722
+odoo/addons/ssi_fixed_asset/__manifest__.py,sha256=SLsssxOaWtI9gM0wQtY2bP-5VQc3n6nO3HHLbKg-KiA,1722
 odoo/addons/ssi_fixed_asset/data/account_journal_data.xml,sha256=I4rkOJ3QRcd2XQ2pTvJJ47BkxwlzdsZIHTK84Q5JJ8o,436
 odoo/addons/ssi_fixed_asset/data/approval_template_data.xml,sha256=Qs1eHSmUF9rdzX1kZ4WW_A3Kzq6QnI1Jnx1Gkm3dX8o,1001
 odoo/addons/ssi_fixed_asset/data/ir_sequence_data.xml,sha256=Bx7NHyRKZjTvkvIi099LsDDihNnzoQvOwQ0Q_sDGDQw,771
 odoo/addons/ssi_fixed_asset/data/ir_server_action_data.xml,sha256=xy0G-3HqC2buA9-PORlLXDtyFoKs6x2TgFZPX9WwYPk,765
 odoo/addons/ssi_fixed_asset/data/policy_template_data.xml,sha256=RIbxNzoY9Kjs8uAAZwzxAd63cl2fWxAngnbUfZiycy8,5482
 odoo/addons/ssi_fixed_asset/data/sequence_template_data.xml,sha256=sclgqHn3TO2wAtPz5ZRxUjclum2AF9OzMqtwHAgiL0w,1290
 odoo/addons/ssi_fixed_asset/demo/account_account_demo.xml,sha256=rFiaq7wJQQotr6vROb4VKrOVEloR_ZJHAdOmcLKjCE0,2193
 odoo/addons/ssi_fixed_asset/demo/account_journal_demo.xml,sha256=-SAVMf3WfN2WWLNoOw_cJaDp4hoDhbb_L3JV3Ulv8Wo,443
 odoo/addons/ssi_fixed_asset/demo/fixed_asset_category_demo.xml,sha256=Xlhm4Aj0vlGSsp5k9dPw8PinQIBsx4xnLS7JFLWQiJY,1812
 odoo/addons/ssi_fixed_asset/models/__init__.py,sha256=_ahEjKtygzHEYHIyRJnYVFAfYQt3WJiPm5l9yMA2PaA,358
 odoo/addons/ssi_fixed_asset/models/account_account.py,sha256=_Up8r8j3u_oa5q2n_7nHfWn5t-yQpi9eFHuCjZIu6fM,495
 odoo/addons/ssi_fixed_asset/models/account_move.py,sha256=MM1WcrepPd0ORSnsRDJnmIj3qp-ihxDrpAI8Us6nRfY,267
 odoo/addons/ssi_fixed_asset/models/account_move_line.py,sha256=TgFPmHMHmn51CmesF7131KKCvQOrblNgObMhbZZeYyc,3309
-odoo/addons/ssi_fixed_asset/models/fixed_asset_asset.py,sha256=w4DFhxRJ67JEisDFQ7LAS9LBtNGu5wN5XFJFFGTAUng,55043
+odoo/addons/ssi_fixed_asset/models/fixed_asset_asset.py,sha256=D7rK7yd6ZzwIhpgAoMusSEun_CsgPyWT4nMGzwhDtik,56403
 odoo/addons/ssi_fixed_asset/models/fixed_asset_category.py,sha256=5XRZ9ZeF2DIZ9BNQl8MpP9uo4wH8nENfdJb2BB9mlRM,6062
-odoo/addons/ssi_fixed_asset/models/fixed_asset_depreciation_line.py,sha256=DZtmLeQguIIOvOfxj3coiR3dt1xaP4f_jRiG-wtEjp4,11726
+odoo/addons/ssi_fixed_asset/models/fixed_asset_depreciation_line.py,sha256=yXCn97RbTxEjEM_S0GU5n3JZXZzQmPFC143zLn9yenY,11826
 odoo/addons/ssi_fixed_asset/models/fixed_asset_depreciation_line_subtype.py,sha256=Vc_TR-iZoy2On4eKmXmzVvLbbB-ufG_B84whM9Fgtz8,437
 odoo/addons/ssi_fixed_asset/security/account_asset_security.xml,sha256=9YHYSAu7116qnOs8PFMgpsydVXYmOYDqzTuT45iSAUI,537
 odoo/addons/ssi_fixed_asset/security/ir.model.access.csv,sha256=orMev-7Xxn7CZXgJmkFrHR7xp0IKDPdQHP_yZQN2UNA,1673
 odoo/addons/ssi_fixed_asset/security/ir_module_category_data.xml,sha256=Vond-ebAKdiPb-v3xHJka-gWe_tl-ZKKaa5CptOt91o,471
 odoo/addons/ssi_fixed_asset/security/res_group_data.xml,sha256=CkicKKydL8zoeu-_WnwJU7zn1TGQ66Bo9oW_sXJyO_8,2006
 odoo/addons/ssi_fixed_asset/static/description/banner.png,sha256=eFvii62_hUf91dBCMkAfk0inrSw203m0Yc7xAOJOrV8,268232
 odoo/addons/ssi_fixed_asset/static/description/icon.png,sha256=lNGJOSg4cMRfwPTfFKVT6d5B2N1N83iVpEEN1blqu1I,48333
 odoo/addons/ssi_fixed_asset/views/account_account_view.xml,sha256=hRX5eY6JTAPzh3dJ7jIz-s7bwf4oqW5CPBF-bcPk-TE,663
 odoo/addons/ssi_fixed_asset/views/account_move_line_views.xml,sha256=X8YxZu3aRbqBzJVIFYaa4wcpOzDeMvap3q2Rr_vgxeI,1842
-odoo/addons/ssi_fixed_asset/views/fixed_asset_asset.xml,sha256=rqnU4LssPOVQbI6E0o3ypGXcvL7p5GaV9oPZBO369BE,23937
+odoo/addons/ssi_fixed_asset/views/fixed_asset_asset.xml,sha256=XeGpHrT_L9u3QDO8ev13p05MEcNH23IbGMELSFwxQzo,23923
 odoo/addons/ssi_fixed_asset/views/fixed_asset_category.xml,sha256=HYkP0LpaPVsQ0_ea96xAKjLoq6479iROX6R71eyr4ng,4997
 odoo/addons/ssi_fixed_asset/wizards/__init__.py,sha256=8yhYXQTtmFoJnFr31Gu1RTBi9T8HoxQTcveh7u1Rfg0,192
 odoo/addons/ssi_fixed_asset/wizards/mass_depreciation.py,sha256=c1D1IvnmEdSON4e7_eDf84Mxx3yyTLOVoRDmQ593adU,1178
 odoo/addons/ssi_fixed_asset/wizards/mass_depreciation_views.xml,sha256=89-o10gFoM8O3vC2woDj8eR_VKVbmvDxkC6JPGO-tlA,1669
-odoo14_addon_ssi_fixed_asset-14.0.1.6.0.dist-info/METADATA,sha256=qQw9NAKIQxsPLp2Jl93aWOPu-mYXvQfQOcozl_4hOds,2413
-odoo14_addon_ssi_fixed_asset-14.0.1.6.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-odoo14_addon_ssi_fixed_asset-14.0.1.6.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_ssi_fixed_asset-14.0.1.6.0.dist-info/RECORD,,
+odoo14_addon_ssi_fixed_asset-14.0.1.7.0.dist-info/METADATA,sha256=r65TzdbJwWoeU6pMqhk8FfWuEisFeNCUnRE53Da2mxY,2413
+odoo14_addon_ssi_fixed_asset-14.0.1.7.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+odoo14_addon_ssi_fixed_asset-14.0.1.7.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_ssi_fixed_asset-14.0.1.7.0.dist-info/RECORD,,
```

